<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rise of Clickdoms</title>
<style>
  body {
    margin: 0;
    padding: 0;
    background-color: black;
    color: white;
    font-family: Arial, sans-serif;
    overflow: hidden;
  }
  #clickButton {
    position: absolute;
    left: 50%;
    top: 60%;
    transform: translate(-50%, -50%);
    width: 180px;
    height: 80px;
    font-size: 24px;
    cursor: pointer;
  }
  #clicksCounter, #cpsCounter {
    position: absolute;
    font-size: 24px;
    font-weight: bold;
  }
  #clicksCounter { left: 20px; top: 20px; }
  #cpsCounter { left: 50%; top: 20px; transform: translateX(-50%); }
  #upgradesContainer, #permUpgradesContainer {
    position: absolute;
  }
  #upgradesContainer { right: 20px; top: 100px; width: 200px; }
  #permUpgradesContainer { left: 20px; top: 100px; width: 200px; }
  .upgradeButton {
    display: block;
    margin: 10px 0;
    width: 100%;
    font-size: 16px;
  }
  .floatingText {
    position: absolute;
    font-weight: bold;
    pointer-events: none;
  }
</style>
</head>
<body>

<div id="clicksCounter">Clicks: 0</div>
<div id="cpsCounter">CPS: 0</div>
<button id="clickButton">Click Me!</button>

<div id="upgradesContainer"></div>
<div id="permUpgradesContainer"></div>

<script>
let totalClicks = 0;
let clicksPerClick = 1;
let autoClicks = 0;

const passiveMessages = [
  "Keep clickin', you glorious bastard!",
  "Who the fuck let you get this powerful?",
  "God damn, your fingers on FIRE ðŸ”¥",
  "Bro you click like rentâ€™s due tomorrow.",
  "Click harder, bitch!",
  "Your mouse is begging for mercy.",
  "This clicker run will be written in history books.",
  "Click click click, motherf***er!",
  "The button is your bitch now."
];

const upgrades = {
  "Peasant": {cost: 50, cps: 1, owned: 0, scale: 1.25},
  "Knight": {cost: 250, cps: 5, owned: 0, scale: 1.75},
  "Lord": {cost: 1000, cps: 20, owned: 0, scale: 1.75},
  "Grandma": {cost: 5000, cps: 250, owned: 0, scale: 1.75},
  "The All Mighty": {cost: 10000, cps: 5000, owned: 0, scale: 1.75}
};

const permUpgrades = {
  "Extra Power!": {cost: 500, effect: "double_clicks", bought: 0},
  "Super Click!": {cost: 2000, effect: "double_auto", bought: 0},
  "Golden Fingers": {cost: 5000, effect: "clicks_plus_5", bought: 0}
};

// DOM references
const clickButton = document.getElementById('clickButton');
const clicksCounter = document.getElementById('clicksCounter');
const cpsCounter = document.getElementById('cpsCounter');
const upgradesContainer = document.getElementById('upgradesContainer');
const permUpgradesContainer = document.getElementById('permUpgradesContainer');

// Floating text function
function spawnFloatingText(text) {
  const ft = document.createElement('div');
  ft.className = 'floatingText';
  ft.textContent = text;
  document.body.appendChild(ft);
  ft.style.left = Math.random() * window.innerWidth + 'px';
  ft.style.top = Math.random() * window.innerHeight + 'px';
  ft.style.color = `rgb(${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)},${Math.floor(Math.random()*256)})`;
  ft.style.opacity = 1;

  let pos = ft.offsetTop;
  let opacity = 1;
  const interval = setInterval(() => {
    pos -= 1;               // move up slowly
    opacity -= 0.005;        // fade slower
    ft.style.top = pos + 'px';
    ft.style.opacity = opacity;
    if(opacity <= 0) {       // remove when invisible
      clearInterval(interval);
      ft.remove();
    }
  }, 16); // roughly 60fps
}


// Update UI
function updateUI() {
  clicksCounter.textContent = `Clicks: ${totalClicks}`;
  cpsCounter.textContent = `CPS: ${autoClicks}`;
  // Update upgrade buttons
  for(let btn of upgradesContainer.children) {
    const name = btn.dataset.name;
    const up = upgrades[name];
    btn.textContent = `${name} (${up.owned}) - ${Math.floor(up.cost)}`;
  }
  for(let btn of permUpgradesContainer.children) {
    const name = btn.dataset.name;
    const up = permUpgrades[name];
    btn.textContent = `${name} - ${Math.floor(up.cost)}`;
  }
}

// Handle click
clickButton.addEventListener('click', () => {
  totalClicks += clicksPerClick;
  spawnFloatingText(`+${clicksPerClick} Clicks!`);
  updateUI();
});

// Initialize upgrades
function initUpgradeButtons() {
  for(const name in upgrades) {
    const btn = document.createElement('button');
    btn.className = 'upgradeButton';
    btn.dataset.name = name;
    btn.addEventListener('click', () => buyUpgrade(name));
    upgradesContainer.appendChild(btn);
  }
}

// Initialize permanent upgrades
function initPermUpgrades() {
  for(const name in permUpgrades) {
    const btn = document.createElement('button');
    btn.className = 'upgradeButton';
    btn.dataset.name = name;
    btn.addEventListener('click', () => buyPermanentUpgrade(name));
    permUpgradesContainer.appendChild(btn);
  }
}

// Buy upgrade
function buyUpgrade(name) {
  const up = upgrades[name];
  if(totalClicks >= up.cost) {
    totalClicks -= Math.floor(up.cost);
    up.owned += 1;
    autoClicks += up.cps;
    up.cost *= up.scale;
    spawnFloatingText(`${name} bought!`);
    updateUI();
  }
}

// Buy permanent upgrade
function buyPermanentUpgrade(name) {
  const up = permUpgrades[name];
  totalClicks -= Math.floor(up.cost);
  up.bought += 1;
  switch(up.effect) {
    case "double_clicks": clicksPerClick *= 2; break;
    case "double_auto": autoClicks *= 2; break;
    case "clicks_plus_5": clicksPerClick += 5; break;
  }
  spawnFloatingText(`${name} activated!`);
  updateUI();
}

// Passive messages
setInterval(() => {
  if(Math.random() < 0.35) {
    const msg = passiveMessages[Math.floor(Math.random()*passiveMessages.length)];
    spawnFloatingText(msg);
  }
}, 1500);

// Auto click
setInterval(() => {
  totalClicks += autoClicks;
  updateUI();
}, 1000);

initUpgradeButtons();
initPermUpgrades();
updateUI();
</script>

</body>
</html>
